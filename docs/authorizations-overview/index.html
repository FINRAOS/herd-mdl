



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://finraos.github.io/herd-mdl/authorizations-overview/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.5.4">
    
    
      
        <title>Authorizations and Security - Herd-MDL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.css">
      
    
    
      <script src="../assets/javascripts/modernizr.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#rbac-authorizations-and-security-in-mdl" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a target="_parent" href="https://finraos.github.io/herd-mdl/" title="Herd-MDL" class="md-header-nav__button md-logo">
          
            <img src="../images/herd_logo_large.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Herd-MDL
              </span>
              <span class="md-header-nav__topic">
                Authorizations and Security
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../images/herd_logo_large.png" width="24" height="24">
      
    </span>
    Herd-MDL
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="What is Herd-MDL?" class="md-nav__link">
      What is Herd-MDL?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../basic-install/" title="Basic Install" class="md-nav__link">
      Basic Install
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../user-guide/" title="User Guide" class="md-nav__link">
      User Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../dev-guide/" title="Developer guide" class="md-nav__link">
      Developer guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../admin-guide/" title="Administration" class="md-nav__link">
      Administration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tech-overview/" title="Technical Overview" class="md-nav__link">
      Technical Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ldap-tree/" title="Users and Groups" class="md-nav__link">
      Users and Groups
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Authorizations and Security
      </label>
    
    <a href="./" title="Authorizations and Security" class="md-nav__link md-nav__link--active">
      Authorizations and Security
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Contents </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#auth-groups" title="Auth-Groups" class="md-nav__link">
    Auth-Groups
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#users-and-authorizations" title="Users and authorizations" class="md-nav__link">
    Users and authorizations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#herd-a-unified-access-control-provider" title="HERD - a unified access-control provider" class="md-nav__link">
    HERD - a unified access-control provider
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespace-level-permissions-in-herd" title="Namespace level permissions in HERD" class="md-nav__link">
    Namespace level permissions in HERD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#namespace-level-permissions-in-bdsql" title="Namespace level permissions in BDSQL" class="md-nav__link">
    Namespace level permissions in BDSQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../advanced-install/" title="Advanced Install" class="md-nav__link">
      Advanced Install
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mdlt/" title="MDLTests (MDLT)" class="md-nav__link">
      MDLTests (MDLT)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tutorials/" title="Tutorials" class="md-nav__link">
      Tutorials
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Contents </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#auth-groups" title="Auth-Groups" class="md-nav__link">
    Auth-Groups
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#users-and-authorizations" title="Users and authorizations" class="md-nav__link">
    Users and authorizations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#herd-a-unified-access-control-provider" title="HERD - a unified access-control provider" class="md-nav__link">
    HERD - a unified access-control provider
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespace-level-permissions-in-herd" title="Namespace level permissions in HERD" class="md-nav__link">
    Namespace level permissions in HERD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#namespace-level-permissions-in-bdsql" title="Namespace level permissions in BDSQL" class="md-nav__link">
    Namespace level permissions in BDSQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="rbac-authorizations-and-security-in-mdl">RBAC, Authorizations and Security in MDL<a class="headerlink" href="#rbac-authorizations-and-security-in-mdl" title="Permanent link">&para;</a></h1>
<p>Role-based access control (<a href="https://en.wikipedia.org/wiki/Role-based_access_control">RBAC</a>) in Herd is managed in the following two ways:</p>
<ol>
<li>
<p><b>LDAP based auth-groups</b>: Leverages a delegation model whereby Herd is provided information via the HTTP header on the identity of the user and the
   access groups they are part of. Users are assigned auth-groups as part of the authentication process and Herd maps auth-groups to REST end points to provide RBAC.</p>
</li>
<li>
<p><b>Namespace-based permissions</b>: A more granular security model where operations are authorized at the Namespace level. All access to data in Herd is controlled by the calling user's authorization to data in that Namespace.
   This authorization mapping in maintained in Herd and is readable/modifiable via CRUD end-points.  </p>
</li>
</ol>
<h3 id="auth-groups">Auth-Groups<a class="headerlink" href="#auth-groups" title="Permanent link">&para;</a></h3>
<p>There are 4 auth groups created in the MDL stack's OpenLDAP instance, all of these are mapped to REST end-points with the 'role(s)' they are assigned in the Herd DataBase and the app 
performs a look-up when authorizing a user based off of these roles. </p>
<table>
<thead>
<tr>
<th><strong>Auth Group</strong></th>
<th><strong>Members</strong></th>
<th><strong>Authorizations in Herd</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>APP_MDL_ACL_RO_herd_admin</td>
<td>admin_user</td>
<td>Read/Write/Admin Services</td>
</tr>
<tr>
<td>APP_MDL_ACL_RO_mdl_rw</td>
<td>mdl_user</td>
<td>Read/Write Services</td>
</tr>
<tr>
<td>APP_MDL_ACL_RO_sec_market_data_rw</td>
<td>sec_user</td>
<td>Read/Write Services</td>
</tr>
<tr>
<td>APP_MDL_ACL_RO_herd_ro</td>
<td>ro_user</td>
<td>Read Services</td>
</tr>
</tbody>
</table>
<h3 id="users-and-authorizations">Users and authorizations<a class="headerlink" href="#users-and-authorizations" title="Permanent link">&para;</a></h3>
<p>There are 5 users which get created in your MDL stack for RBAC demonstration purposes - the table below lists each of those users and their respective authorizations. 
Please note that Users can be added/deleted/modified by using the <em>manageLdap.sh</em> script as descibed in the <a href="../admin-guide/#managing-openldap-users-and-groups">manage OpenLdap</a> section.                             </p>
<table>
<thead>
<tr>
<th><strong>User Id</strong></th>
<th><strong>Authorizations in Herd</strong></th>
<th><strong>Authorizations in BDSQL</strong></th>
<th><strong>SSM Parameter* name for Password</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>admin_user</td>
<td>Read/Write/Admin Services <br> All Namespaces</td>
<td>All data schemas <br> Read/Write own user schema</td>
<td>{ssm-prefix}/HerdAdminPassword</td>
</tr>
<tr>
<td>mdl_user</td>
<td>Read/Write Services <br> MDL Namespace</td>
<td>Read MDL schema <br> Read/Write own user schema</td>
<td>{ssm-prefix}/HerdMdlPassword</td>
</tr>
<tr>
<td>sec_user</td>
<td>Read/Write Services <br> All Namespaces</td>
<td>Read SEC_MARKET_DATA schema <br> Read/Write own user schema</td>
<td>{ssm-prefix}/HerdSecPassword</td>
</tr>
<tr>
<td>ro_user</td>
<td>Read/Write Services <br> All Namespaces</td>
<td>Read MDL schema <br> Read SEC_MARKET_DATA schema <br> Read/Write own user schema</td>
<td>{ssm-prefix}/HerdRoUserPassword</td>
</tr>
<tr>
<td>basic_user</td>
<td>Read open REST services <br> No Namespaces</td>
<td>Not authorized to use BDSQL</td>
<td>{ssm-prefix}/HerdBasicUserPassword</td>
</tr>
</tbody>
</table>
<p><sup>*replace <code>{ssm-prefix}</code> in the password param-names with <code>/app/MDL/${MDLInstanceName}/${Environment}/LDAP/Password</code> </sup></p>
<h3 id="herd-a-unified-access-control-provider">HERD - a unified access-control provider<a class="headerlink" href="#herd-a-unified-access-control-provider" title="Permanent link">&para;</a></h3>
<p>HERD provides centralized access-control on data at the namespace level across the MDL ecosystem. All access to data in Herd is controlled by the calling user's authorization to data in that Namespace, 
this applies to all access points across MDL: HERD REST APIs, HERD-UI and BDSQL. </p>
<h4 id="namespace-level-permissions-in-herd">Namespace level permissions in HERD<a class="headerlink" href="#namespace-level-permissions-in-herd" title="Permanent link">&para;</a></h4>
<ul>
<li>A user may be granted permissions to READ, WRITE, EXECUTE, or GRANT data in a set of Namespaces. </li>
<li>These authorizations restrict access to all operations including:
      Meta-data services like reading and writing Business Object Definitions, Business Object Formats, and Business Object Data in a given Namespace
      Other services such as Clusters, Jobs, and Notifications owned by a given Namespace.</li>
<li>If not authorized, the services will return an appropriate HTTP error response such as 403 Forbidden.</li>
</ul>
<h4 id="namespace-level-permissions-in-bdsql">Namespace level permissions in BDSQL<a class="headerlink" href="#namespace-level-permissions-in-bdsql" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Any user which has READ permissions to a Namespace in HERD translates to them having SELECT privileges on <em>all</em> tables under the corresponding schema for that Namespace in BDSQL.</p>
<blockquote>
<p>Note: Users <em>must</em> have READ permissions to a Namespace to be granted SELECT privilege in BDSQL, there is no implicit permission-mapping.</p>
</blockquote>
</li>
<li>
<p>SELECT privileges are granted/revoked automatically in BDSQL when the corresponding namespace-permission is modified in HERD, this normally takes only a couple of minutes.</p>
</li>
<li>Any namespace which has <em>global-read</em> in HERD results in <em>all</em> users having SELECT privilege to its corresponding schema (and all tables) in BDSQL. </li>
</ul>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../ldap-tree/" title="Users and Groups" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Users and Groups
              </span>
            </div>
          </a>
        
        
          <a href="../advanced-install/" title="Advanced Install" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Advanced Install
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>